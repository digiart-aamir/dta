CREATE DATABASE dta;

CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    fname VARCHAR(50),
    lname VARCHAR(50),
    email VARCHAR(100),
    age INT,
    password VARCHAR(255),
    Category VARCHAR(50),
    Field VARCHAR(50),
    profile VARCHAR(255) DEFAULT 'images/auto.png'
);

CREATE TABLE topics (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    name VARCHAR(100),
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE threads (
    t_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    t_title VARCHAR(255),
    t_content TEXT,
    t_likes INT DEFAULT 0,
    t_types VARCHAR(50),
    t_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE islike_t (
    id INT AUTO_INCREMENT PRIMARY KEY,
    t_id INT,
    user_id INT,
    FOREIGN KEY (t_id) REFERENCES threads(t_id),
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE comments (
    c_id INT AUTO_INCREMENT PRIMARY KEY,
    t_id INT,
    c_likes INT DEFAULT 0,
    value VARCHAR(255),
    user_id INT,
    FOREIGN KEY (t_id) REFERENCES threads(t_id),
    FOREIGN KEY (user_id) REFERENCES users(id)
);


CREATE TABLE islike_c (
    id INT AUTO_INCREMENT PRIMARY KEY,
    c_id INT,
    user_id INT,
    FOREIGN KEY (c_id) REFERENCES comments(id),
    FOREIGN KEY (user_id) REFERENCES users(id)
);
